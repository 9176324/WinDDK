<HTML>
<BODY>

<FONT FACE=VERDANA SIZE=2 COLOR="#000000">

<DL>
	<DT><B><A HREF="AC97SMPL.HTML#LP_UPGRDREG_SECT" TARGET="LP_INFSRC">
	[DevUpgrd.AddReg]</A></B></DT>

		<DD>This section is an <I>add-registry-section</I>, whose entries satisfy the following format :</DD>

		<DD><P><B>[</B><I>add-registry-section</I><B>]</B><BR>
		<I>reg-root</I>, [<I>subkey</I>], [<I>value-entry-name</I>], [<I>flags</I>], [<I>value</I>]</DD>

		<DD><P>An <B>HKLM</B> specification in such an add-registry section designates the HKey Local Machine registry entry.
		The special meaning of this section (along with other DevUpgrd and W2KDriver sections) is linked to OS upgrades from Win95/98 to Win2000, when devices that are not supported by default in Win2000 are already installed on Win95/98 to be upgraded. 
		The Upgrade Wizard cannot accomplish this transition; the DevUpgrade Migration DLL is a tool that covers this aspect. <BR><P>
		
		The system inf files referenced in <B>Include</B> or <B>Needs</B> sections of the current inf file (of the device to be migrated) might have the same name in Win95/98 and in Win2000. Thus, at a later point during the upgrade process, the system might prompt the user for Win95/98 media, leading to an incorrectly installed driver.<BR>
		The DevUpgrade Migration DLL is registered on the Win95/98 system to be used at a later time by the OS upgrade process. The devices needed to be migrated have to be registered with the DevUpgrade Migration DLL by adding to the registry values specifying the PnP ID of the device and the path to the Win2000 INF file.<BR>
		The inf file of the device has to be modified accordingly, as exemplified by AC97SMPL.INF.
		<BR><P><I>For more information about the device migration, see the <A HREF="http://www.microsoft.com/ddk/W2kDDK.htm">Microsoft DDK</A> or the MSDN collection.</I></DD>

		<DL>
			<DT><P>Processing this section will add into the registry under <B>HKLM</B> the values :</DT>

			<DL>
				<DT><P><B><A NAME=UPGRD_1STENTRY>Microsoft Device Upgrade Pack</A></B></DT>
					<DD>Location : <B><A HREF="RP_INFDEF_KEYWORDS.HTML#KWD_HKLM">HKLM</A></B></DD>
					<DD>Subkey : Software\Microsoft\Windows\CurrentVersion\Setup\Migration DLLs</DD>
					<DD>Value-entry name : Microsoft Device Upgrade Pack
					<DD>Value-entry type : szString (default value, FLG_ADDREG_TYPE_SZ = 0x00000000)
					<DD>Value : %10%\win9xmig\DevUpgrd  (<I>%10% specifies %windir%</I>)</DD>

				<DT><P><B><A NAME=UPGRD_2NDENTRY>PCI\VEN_8086&DEV_2415</A></B></DT>
					<DD>Location : <B><A HREF="RP_INFDEF_KEYWORDS.HTML#KWD_HKLM">HKLM</A></B></DD>
					<DD>Subkey : Software\Microsoft\Windows\CurrentVersion\Setup\UpgradeDrivers</DD>
					<DD>Value-entry name : PCI\VEN_8086&DEV_2415   (<I>PnP ID</I>)
					<DD>Value-entry type : szString (default value, FLG_ADDREG_TYPE_SZ = 0x00000000)
					<DD>Value : %10%\win9xmig\DevUpgrd\AC97W2K\ac97smpl.inf  (<I>%10% specifies %windir%</I>)</DD>

				<DT><P><B><A NAME=UPGRD_3RDENTRY>PCI\VEN_8086&DEV_2425</A></B></DT>
					<DD>Location : <B><A HREF="RP_INFDEF_KEYWORDS.HTML#KWD_HKLM">HKLM</A></B></DD>
					<DD>Subkey : Software\Microsoft\Windows\CurrentVersion\Setup\UpgradeDrivers</DD>
					<DD>Value-entry name : PCI\VEN_8086&DEV_2425   (<I>PnP ID</I>)
					<DD>Value-entry type : szString (default value, FLG_ADDREG_TYPE_SZ = 0x00000000)
					<DD>Value : %10%\win9xmig\DevUpgrd\AC97W2K\ac97smpl.inf  (<I>%10% specifies %windir%</I>)</DD>

				<DT><P><B><A NAME=UPGRD_4THENTRY>PCI\VEN_8086&DEV_2445</A></B></DT>
					<DD>Location : <B><A HREF="RP_INFDEF_KEYWORDS.HTML#KWD_HKLM">HKLM</A></B></DD>
					<DD>Subkey : Software\Microsoft\Windows\CurrentVersion\Setup\UpgradeDrivers</DD>
					<DD>Value-entry name : PCI\VEN_8086&DEV_2445   (<I>PnP ID</I>)
					<DD>Value-entry type : szString (default value, FLG_ADDREG_TYPE_SZ = 0x00000000)
					<DD>Value : %10%\win9xmig\DevUpgrd\AC97W2K\ac97smpl.inf  (<I>%10% specifies %windir%</I>)</DD>

			</DL>

			<DT><B><P>Called from :</B></DT>
				<DD><B><A HREF="AC97SMPL.HTML#LP_DDINSTALL_SECT" TARGET="LP_INFSRC">[AC97SMPL]</A></B></DD>
				<DD>AddReg=<B>...<A HREF="AC97SMPL.HTML#LP_UPGRDREG_SECT" TARGET="LP_INFSRC">DevUpgrd.AddReg</A></B></DD>

		</DL>


		<DD><P><I>See also the </I><B><A HREF="RP_INFDEF_KEYWORDS.HTML">Glossary</A></B><I> entry for </I><B><A HREF="RP_INFDEF_KEYWORDS.HTML#KWD_AddReg">AddReg</A></B>.</DD>

</DL>

<PRE>










































































</PRE>

</BODY>
</HTML>
